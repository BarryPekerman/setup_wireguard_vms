# WireGuard AWS Setup - Whitelist Git Ignore
# This is a WHITELIST approach - only allow specific files needed to run the project
# 
# SECURITY NOTE: This whitelist approach ensures only necessary files are tracked
# and sensitive data (keys, state files, generated configs) are never committed

# Ignore everything by default
*

# Allow project structure directories
!*/
!.gitignore
!.gitkeep

# Allow main documentation files
!README.md
!DETAILED_GUIDE.md
!LICENSE

# Allow Terraform configuration files (source code only)
!terraform/main.tf
!terraform/variables.tf
!terraform/outputs.tf
!terraform/versions.tf
!terraform/terraform.tfvars.example
!terraform/README.md
!terraform/keys/.gitkeep

# Allow Ansible playbooks (specific files only)
!ansible/playbooks/cleanup.yml
!ansible/playbooks/detect_ip.yml
!ansible/playbooks/infrastructure.yml
!ansible/playbooks/site.yml
!ansible/playbooks/test_connectivity.yml
!ansible/playbooks/wireguard.yml

# Allow Ansible templates (specific files only)
!ansible/templates/client.conf.j2
!ansible/templates/server.conf.j2

# Allow Ansible group variables (specific files only)
!ansible/group_vars/all.yml
!ansible/group_vars/security.yml

# Allow Ansible scripts (specific files only)
!ansible/scripts/generate_inventory_from_tf.sh
!ansible/scripts/setup.sh
!ansible/scripts/test_ip_detection.sh

# Allow Ansible configuration files
!ansible/requirements.yml
!ansible/ansible.cfg
!ansible/README.md

# Allow automation scripts (specific files only)
!scripts/cleanup.sh
!scripts/detect_ip.sh
!scripts/diagnostics.sh
!scripts/setup.sh
!scripts/wireguard_client.sh

# Allow example files
!*.example
!**/*.example

